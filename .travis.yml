---
language: python
python: "2.7"

addons:
  hosts:
    - zendevbox.com

before_install:
  # create ubuntu user
  - sudo useradd ubuntu
  - sudo usermod -a -G sudo ubuntu

install:
  # Install pip dependencies.
  - pip install -r deployment/deploy-requirements.txt

script:
  # Check the role/playbook's syntax.
  - ansible-playbook -i deployment/ansible/inventory-example-static/dev deployment/ansible/playbook/site_static.yml -vvvv --syntax-check

  # Run the role/playbook with ansible-playbook.
  - ansible-playbook -i deployment/ansible/inventory-example-static/dev deployment/ansible/playbook/site_static.yml -vvvv --connection=local --sudo
